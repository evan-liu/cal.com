"use strict";(self.webpackChunk_calcom_web=self.webpackChunk_calcom_web||[]).push([[5737],{"../../packages/app-store/_utils/useIsAppEnabled.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),_calcom_app_store_EventTypeAppContext__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../packages/app-store/EventTypeAppContext.tsx");const __WEBPACK_DEFAULT_EXPORT__=function useIsAppEnabled(app){const{getAppData,setAppData}=(0,_calcom_app_store_EventTypeAppContext__WEBPACK_IMPORTED_MODULE_1__.j)(),[enabled,setEnabled]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>{const isAppEnabled=getAppData("enabled");if(!app.credentialOwner)return null!=isAppEnabled&&isAppEnabled;const credentialId=getAppData("credentialId"),isAppEnabledForCredential=isAppEnabled&&(app.userCredentialIds.some((id=>id===credentialId))||app.credentialOwner.credentialId===credentialId);return null!=isAppEnabledForCredential&&isAppEnabledForCredential}));return{enabled,updateEnabled:newValue=>{var _app_userCredentialIds,_app_credentialOwner,_app_credentialOwner1;(newValue||setAppData("credentialId",void 0),newValue&&((null===(_app_userCredentialIds=app.userCredentialIds)||void 0===_app_userCredentialIds?void 0:_app_userCredentialIds.length)||(null===(_app_credentialOwner=app.credentialOwner)||void 0===_app_credentialOwner?void 0:_app_credentialOwner.credentialId)))&&setAppData("credentialId",(null===(_app_credentialOwner1=app.credentialOwner)||void 0===_app_credentialOwner1?void 0:_app_credentialOwner1.credentialId)||app.userCredentialIds[0]);setEnabled(newValue)}}}},"../../packages/app-store/salesforce/components/EventTypeAppCardInterface.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>EventTypeAppCardInterface});var jsx_runtime=__webpack_require__("../../node_modules/next/dist/compiled/react/jsx-runtime.js"),navigation=__webpack_require__("../../node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.mjs"),react=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),EventTypeAppContext=__webpack_require__("../../packages/app-store/EventTypeAppContext.tsx"),AppCard=__webpack_require__("../../packages/app-store/_components/AppCard.tsx"),useIsAppEnabled=__webpack_require__("../../packages/app-store/_utils/useIsAppEnabled.ts"),constants=__webpack_require__("../../packages/lib/constants.ts"),useLocale=__webpack_require__("../../packages/lib/hooks/useLocale.ts"),enums=__webpack_require__("../../packages/prisma/enums/index.ts"),Alert=__webpack_require__("../../packages/ui/components/alert/Alert.tsx"),Button=__webpack_require__("../../packages/ui/components/button/Button.tsx"),TextField=__webpack_require__("../../packages/ui/components/form/inputs/TextField.tsx"),Label=__webpack_require__("../../packages/ui/components/form/inputs/Label.tsx"),Select=__webpack_require__("../../packages/ui/components/form/select/Select.tsx"),Switch=__webpack_require__("../../packages/ui/components/form/switch/Switch.tsx"),section=__webpack_require__("../../packages/ui/components/section/section.tsx"),showToast=__webpack_require__("../../packages/ui/components/toast/showToast.tsx"),lib_enums=__webpack_require__("../../packages/app-store/salesforce/lib/enums.ts"),BookingActionEnum=function(BookingActionEnum){return BookingActionEnum.ON_BOOKING="on_booking",BookingActionEnum.ON_CANCEL="on_cancel",BookingActionEnum}({});const WriteToObjectSettings=({bookingAction,optionLabel,optionEnabled,optionSwitchOnChange,writeToObjectData,updateWriteToObjectData})=>{const{t}=(0,useLocale.Y)(),fieldTypeOptions=[{label:t("text"),value:lib_enums.gI.TEXT},{label:t("date"),value:lib_enums.gI.DATE},{label:t("phone").charAt(0).toUpperCase()+t("phone").slice(1),value:lib_enums.gI.PHONE},{label:t("checkbox"),value:lib_enums.gI.CHECKBOX},{label:t("picklist"),value:lib_enums.gI.PICKLIST},{label:t("custom"),value:lib_enums.gI.CUSTOM}],whenToWriteToRecordOptions=[{label:t("only_if_field_is_empty"),value:lib_enums.Ho.FIELD_EMPTY},..."on_cancel"===bookingAction?[{label:t("salesforce_on_every_cancellation"),value:lib_enums.Ho.EVERY_BOOKING}]:[{label:t("on_every_booking"),value:lib_enums.Ho.EVERY_BOOKING}]],checkboxFieldValueOptions=[{label:t("true"),value:!0},{label:t("false"),value:!1}],dateFieldValueOptions=[..."on_cancel"===bookingAction?[{label:t("booking_cancel_date"),value:lib_enums.TY.BOOKING_CANCEL_DATE}]:[],{label:t("booking_start_date"),value:lib_enums.TY.BOOKING_START_DATE},{label:t("booking_created_date"),value:lib_enums.TY.BOOKING_CREATED_DATE}],[fieldTypeSelectedOption,setFieldTypeSelectedOption]=(0,react.useState)(fieldTypeOptions[0]),[dateFieldSelectedOption,setDateFieldSelectedOption]=(0,react.useState)(dateFieldValueOptions[0]),[checkboxFieldSelectedOption,setCheckboxFieldSelectedOption]=(0,react.useState)(checkboxFieldValueOptions[0]),[whenToWriteSelectedOption,setWhenToWriteSelectedOption]=(0,react.useState)(whenToWriteToRecordOptions[0]),[newOnWriteToRecordEntry,setNewOnWriteToRecordEntry]=(0,react.useState)({field:"",fieldType:fieldTypeSelectedOption.value,value:"",whenToWrite:whenToWriteSelectedOption.value});return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(section.w.SubSectionHeader,{icon:"star",labelFor:"write-to-object-settings",title:optionLabel,children:(0,jsx_runtime.jsx)(Switch.d,{checked:optionEnabled,onCheckedChange:optionSwitchOnChange,id:"write-to-object-settings",size:"sm"})}),optionEnabled?(0,jsx_runtime.jsxs)(section.w.SubSectionContent,{children:[(0,jsx_runtime.jsxs)("div",{className:"text-subtle flex gap-3 px-3 py-[6px] text-sm font-medium",children:[(0,jsx_runtime.jsx)("div",{className:"flex-1",children:t("field_name")}),(0,jsx_runtime.jsx)("div",{className:"flex-1",children:t("field_type")}),(0,jsx_runtime.jsx)("div",{className:"flex-1",children:t("value")}),(0,jsx_runtime.jsx)("div",{className:"flex-1",children:t("when_to_write")}),(0,jsx_runtime.jsx)("div",{className:"w-10"})]}),(0,jsx_runtime.jsxs)(section.w.SubSectionNested,{children:[Object.keys(writeToObjectData).map((key=>(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("div",{className:"flex-1",children:(0,jsx_runtime.jsx)(TextField.FO,{value:key,readOnly:!0,size:"sm",className:"w-full"})}),(0,jsx_runtime.jsx)("div",{className:"flex-1",children:(0,jsx_runtime.jsx)(Select.l6,{size:"sm",className:"w-full",value:fieldTypeOptions.find((option=>option.value===writeToObjectData[key].fieldType)),isDisabled:!0})}),(0,jsx_runtime.jsx)("div",{className:"flex-1",children:writeToObjectData[key].fieldType===lib_enums.gI.DATE?(0,jsx_runtime.jsx)(Select.l6,{size:"sm",className:"w-full",value:dateFieldValueOptions.find((option=>option.value===writeToObjectData[key].value)),isDisabled:!0}):writeToObjectData[key].fieldType===lib_enums.gI.CHECKBOX?(0,jsx_runtime.jsx)(Select.l6,{size:"sm",className:"w-full",value:checkboxFieldValueOptions.find((option=>option.value===writeToObjectData[key].value)),isDisabled:!0}):(0,jsx_runtime.jsx)(TextField.FO,{value:writeToObjectData[key].value,readOnly:!0,size:"sm",className:"w-full"})}),(0,jsx_runtime.jsx)("div",{className:"flex-1",children:(0,jsx_runtime.jsx)(Select.l6,{size:"sm",className:"w-full",value:whenToWriteToRecordOptions.find((option=>option.value===writeToObjectData[key].whenToWrite)),isDisabled:!0})}),(0,jsx_runtime.jsx)("div",{className:"flex w-10 justify-center",children:(0,jsx_runtime.jsx)(Button.$,{size:"sm",StartIcon:"x",variant:"icon",color:"minimal",onClick:()=>{const newObject=writeToObjectData;delete writeToObjectData[key],updateWriteToObjectData(newObject)}})})]},key))),(0,jsx_runtime.jsxs)("div",{className:"flex gap-2",children:[(0,jsx_runtime.jsx)("div",{className:"flex-1",children:(0,jsx_runtime.jsx)(TextField.FO,{size:"sm",className:"w-full",value:newOnWriteToRecordEntry.field,onChange:e=>setNewOnWriteToRecordEntry({...newOnWriteToRecordEntry,field:e.target.value})})}),(0,jsx_runtime.jsx)("div",{className:"flex-1",children:(0,jsx_runtime.jsx)(Select.l6,{size:"sm",className:"w-full",options:fieldTypeOptions,value:fieldTypeSelectedOption,onChange:e=>{e&&(setFieldTypeSelectedOption(e),setNewOnWriteToRecordEntry({...newOnWriteToRecordEntry,fieldType:e.value,...e.value===lib_enums.gI.DATE&&{value:dateFieldSelectedOption.value},...e.value===lib_enums.gI.CHECKBOX&&{value:checkboxFieldSelectedOption.value}}))}})}),(0,jsx_runtime.jsx)("div",{className:"flex-1",children:newOnWriteToRecordEntry.fieldType===lib_enums.gI.DATE?(0,jsx_runtime.jsx)(Select.l6,{size:"sm",className:"w-full",options:dateFieldValueOptions,value:dateFieldSelectedOption,onChange:e=>{e&&(setDateFieldSelectedOption(e),setNewOnWriteToRecordEntry({...newOnWriteToRecordEntry,value:e.value}))}}):newOnWriteToRecordEntry.fieldType===lib_enums.gI.CHECKBOX?(0,jsx_runtime.jsx)(Select.l6,{size:"sm",className:"w-full",options:checkboxFieldValueOptions,value:checkboxFieldSelectedOption,onChange:e=>{e&&(setCheckboxFieldSelectedOption(e),setNewOnWriteToRecordEntry({...newOnWriteToRecordEntry,value:e.value}))}}):(0,jsx_runtime.jsx)(TextField.FO,{size:"sm",className:"w-full",value:newOnWriteToRecordEntry.value,onChange:e=>setNewOnWriteToRecordEntry({...newOnWriteToRecordEntry,value:e.target.value})})}),(0,jsx_runtime.jsx)("div",{className:"flex-1",children:(0,jsx_runtime.jsx)(Select.l6,{size:"sm",className:"w-full",options:whenToWriteToRecordOptions,value:whenToWriteSelectedOption,onChange:e=>{e&&(setWhenToWriteSelectedOption(e),setNewOnWriteToRecordEntry({...newOnWriteToRecordEntry,whenToWrite:e.value}))}})}),(0,jsx_runtime.jsx)("div",{className:"w-10"})]})]}),(0,jsx_runtime.jsx)(Button.$,{className:"text-subtle mt-2 w-fit",StartIcon:"plus",color:"minimal",size:"sm",disabled:!(newOnWriteToRecordEntry.field&&newOnWriteToRecordEntry.fieldType&&""!==newOnWriteToRecordEntry.value&&newOnWriteToRecordEntry.whenToWrite),onClick:()=>{Object.keys(writeToObjectData).includes(newOnWriteToRecordEntry.field.trim())?(0,showToast.P0)("Field already exists","error"):(updateWriteToObjectData({...writeToObjectData,[newOnWriteToRecordEntry.field.trim()]:{fieldType:newOnWriteToRecordEntry.fieldType,value:newOnWriteToRecordEntry.value,whenToWrite:newOnWriteToRecordEntry.whenToWrite}}),setNewOnWriteToRecordEntry({field:"",fieldType:fieldTypeOptions[0].value,value:"",whenToWrite:whenToWriteToRecordOptions[0].value}))},children:t("add_new_field")})]}):null]})},components_WriteToObjectSettings=WriteToObjectSettings;WriteToObjectSettings.__docgenInfo={description:"",methods:[],displayName:"WriteToObjectSettings",props:{bookingAction:{required:!0,tsType:{name:"BookingActionEnum"},description:""},optionLabel:{required:!0,tsType:{name:"string"},description:""},optionEnabled:{required:!0,tsType:{name:"boolean"},description:""},optionSwitchOnChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(checked: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"checked"}],return:{name:"void"}}},description:""},writeToObjectData:{required:!0,tsType:{name:"Record",elements:[{name:"string"},{name:"z.infer",elements:[{name:"writeToBookingEntry"}],raw:"z.infer<typeof writeToBookingEntry>"}],raw:"Record<string, z.infer<typeof writeToBookingEntry>>"},description:""},updateWriteToObjectData:{required:!0,tsType:{name:"signature",type:"function",raw:"(data: iWriteToObjectData) => void",signature:{arguments:[{type:{name:"Record",elements:[{name:"string"},{name:"z.infer",elements:[{name:"writeToBookingEntry"}],raw:"z.infer<typeof writeToBookingEntry>"}],raw:"Record<string, z.infer<typeof writeToBookingEntry>>"},name:"data"}],return:{name:"void"}}},description:""}}};const EventTypeAppCard=function EventTypeAppCard({app,eventType}){var _eventType_team;const pathname=(0,navigation.usePathname)(),{getAppData,setAppData,disabled}=(0,EventTypeAppContext.j)(),{enabled,updateEnabled}=(0,useIsAppEnabled.A)(app),isRoundRobinLeadSkipEnabled=getAppData("roundRobinLeadSkip");var _getAppData;const roundRobinSkipCheckRecordOn=null!==(_getAppData=getAppData("roundRobinSkipCheckRecordOn"))&&void 0!==_getAppData?_getAppData:lib_enums.Gx.CONTACT;var _getAppData1;const ifFreeEmailDomainSkipOwnerCheck=null!==(_getAppData1=getAppData("ifFreeEmailDomainSkipOwnerCheck"))&&void 0!==_getAppData1&&_getAppData1,isSkipContactCreationEnabled=getAppData("skipContactCreation"),createLeadIfAccountNull=getAppData("createLeadIfAccountNull"),createNewContactUnderAccount=getAppData("createNewContactUnderAccount");var _getAppData2;const createEventOn=null!==(_getAppData2=getAppData("createEventOn"))&&void 0!==_getAppData2?_getAppData2:lib_enums.Gx.CONTACT;var _getAppData3;const onBookingWriteToEventObject=null!==(_getAppData3=getAppData("onBookingWriteToEventObject"))&&void 0!==_getAppData3&&_getAppData3;var _getAppData4;const onBookingWriteToEventObjectMap=null!==(_getAppData4=getAppData("onBookingWriteToEventObjectMap"))&&void 0!==_getAppData4?_getAppData4:{};var _getAppData5;const createEventOnLeadCheckForContact=null!==(_getAppData5=getAppData("createEventOnLeadCheckForContact"))&&void 0!==_getAppData5&&_getAppData5;var _getAppData6;const onBookingChangeRecordOwner=null!==(_getAppData6=getAppData("onBookingChangeRecordOwner"))&&void 0!==_getAppData6&&_getAppData6;var _getAppData7;const onBookingChangeRecordOwnerName=null!==(_getAppData7=getAppData("onBookingChangeRecordOwnerName"))&&void 0!==_getAppData7?_getAppData7:[];var _getAppData8;const sendNoShowAttendeeData=null!==(_getAppData8=getAppData("sendNoShowAttendeeData"))&&void 0!==_getAppData8&&_getAppData8;var _getAppData9;const sendNoShowAttendeeDataField=null!==(_getAppData9=getAppData("sendNoShowAttendeeDataField"))&&void 0!==_getAppData9?_getAppData9:"";var _getAppData10;const onBookingWriteToRecord=null!==(_getAppData10=getAppData("onBookingWriteToRecord"))&&void 0!==_getAppData10&&_getAppData10;var _getAppData11;const onBookingWriteToRecordFields=null!==(_getAppData11=getAppData("onBookingWriteToRecordFields"))&&void 0!==_getAppData11?_getAppData11:{};var _getAppData12;const ignoreGuests=null!==(_getAppData12=getAppData("ignoreGuests"))&&void 0!==_getAppData12&&_getAppData12;var _getAppData13;const roundRobinSkipFallbackToLeadOwner=null!==(_getAppData13=getAppData("roundRobinSkipFallbackToLeadOwner"))&&void 0!==_getAppData13&&_getAppData13;var _getAppData14;const onCancelWriteToEventRecord=null!==(_getAppData14=getAppData("onCancelWriteToEventRecord"))&&void 0!==_getAppData14&&_getAppData14;var _getAppData15;const onCancelWriteToEventRecordFields=null!==(_getAppData15=getAppData("onCancelWriteToEventRecordFields"))&&void 0!==_getAppData15?_getAppData15:{},{t}=(0,useLocale.Y)(),recordOptions=[{label:t("contact"),value:lib_enums.Gx.CONTACT},{label:t("salesforce_lead"),value:lib_enums.Gx.LEAD},{label:t("salesforce_contact_under_account"),value:lib_enums.Gx.ACCOUNT}];var _recordOptions_find;const[createEventOnSelectedOption,setCreateEventOnSelectedOption]=(0,react.useState)(null!==(_recordOptions_find=recordOptions.find((option=>option.value===createEventOn)))&&void 0!==_recordOptions_find?_recordOptions_find:recordOptions[0]),checkOwnerOptions=[{label:t("contact"),value:lib_enums.Gx.CONTACT},{label:t("salesforce_lead"),value:lib_enums.Gx.LEAD},{label:t("account"),value:lib_enums.Gx.ACCOUNT}];var _checkOwnerOptions_find;const[checkOwnerSelectedOption,setCheckOwnerSelectedOption]=(0,react.useState)(null!==(_checkOwnerOptions_find=checkOwnerOptions.find((option=>option.value===roundRobinSkipCheckRecordOn)))&&void 0!==_checkOwnerOptions_find?_checkOwnerOptions_find:checkOwnerOptions[0]),[newOnBookingWriteToEventObjectField,setNewOnBookingWriteToEventObjectField]=(0,react.useState)({field:"",value:""}),CreateContactUnderAccount=()=>(0,jsx_runtime.jsx)(section.w.SubSection,{children:(0,jsx_runtime.jsx)(section.w.SubSectionHeader,{icon:"at-sign",title:t("salesforce_create_new_contact_under_account"),labelFor:"create-new-contact-under-account",children:(0,jsx_runtime.jsx)(Switch.d,{size:"sm",labelOnLeading:!0,checked:createNewContactUnderAccount,onCheckedChange:checked=>{setAppData("createNewContactUnderAccount",checked)}})})});return(0,jsx_runtime.jsx)(AppCard.A,{returnTo:`${constants.YW}${pathname}?tabName=apps`,app,teamId:(null===(_eventType_team=eventType.team)||void 0===_eventType_team?void 0:_eventType_team.id)||void 0,switchOnClick:e=>{updateEnabled(e)},switchChecked:enabled,hideSettingsIcon:!0,children:(0,jsx_runtime.jsxs)(section.w.Content,{children:[(0,jsx_runtime.jsx)(section.w.SubSection,{children:(0,jsx_runtime.jsx)(section.w.SubSectionHeader,{icon:"zap",title:t("salesforce_add_attendees_as"),justify:"start",labelFor:"add-attendees-as",children:(0,jsx_runtime.jsx)(Select.l6,{size:"sm",id:"add-attendees-as",className:"w-[200px]",options:recordOptions,value:createEventOnSelectedOption,onChange:e=>{e&&(setCreateEventOnSelectedOption(e),setAppData("createEventOn",e.value))}})})}),(0,jsx_runtime.jsx)(section.w.SubSection,{children:(0,jsx_runtime.jsx)(section.w.SubSectionHeader,{icon:"user-plus",title:t("salesforce_ignore_guests"),labelFor:"ignore-guests",children:(0,jsx_runtime.jsx)(Switch.d,{size:"sm",labelOnLeading:!0,checked:ignoreGuests,onCheckedChange:checked=>{setAppData("ignoreGuests",checked)}})})}),createEventOnSelectedOption.value===lib_enums.Gx.CONTACT?(0,jsx_runtime.jsx)(section.w.SubSection,{children:(0,jsx_runtime.jsx)(section.w.SubSectionHeader,{icon:"user-plus",title:t("skip_contact_creation",{appName:"Salesforce"}),labelFor:"skip-contact-creation",children:(0,jsx_runtime.jsx)(Switch.d,{size:"sm",labelOnLeading:!0,checked:isSkipContactCreationEnabled,onCheckedChange:checked=>{setAppData("skipContactCreation",checked)}})})}):null,createEventOnSelectedOption.value===lib_enums.Gx.LEAD?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(section.w.SubSection,{children:(0,jsx_runtime.jsx)(section.w.SubSectionHeader,{icon:"user-plus",title:t("salesforce_create_event_on_contact"),labelFor:"create-event-on-contact",children:(0,jsx_runtime.jsx)(Switch.d,{size:"sm",labelOnLeading:!0,checked:createEventOnLeadCheckForContact})})}),(0,jsx_runtime.jsx)(CreateContactUnderAccount,{})]}):null,createEventOnSelectedOption.value===lib_enums.Gx.ACCOUNT?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(CreateContactUnderAccount,{}),(0,jsx_runtime.jsx)(section.w.SubSection,{children:(0,jsx_runtime.jsx)(section.w.SubSectionHeader,{icon:"user-plus",title:t("salesforce_if_account_does_not_exist"),labelFor:"create-lead-if-account-null",children:(0,jsx_runtime.jsx)(Switch.d,{size:"sm",labelOnLeading:!0,checked:createLeadIfAccountNull,onCheckedChange:checked=>{setAppData("createLeadIfAccountNull",checked)}})})})]}):null,(0,jsx_runtime.jsxs)(section.w.SubSection,{children:[(0,jsx_runtime.jsx)(section.w.SubSectionHeader,{icon:"badge-check",title:t("on_booking_write_to_event_object"),children:(0,jsx_runtime.jsx)(Switch.d,{size:"sm",labelOnLeading:!0,checked:onBookingWriteToEventObject,onCheckedChange:checked=>{setAppData("onBookingWriteToEventObject",checked)}})}),onBookingWriteToEventObject?(0,jsx_runtime.jsxs)(section.w.SubSectionContent,{children:[(0,jsx_runtime.jsxs)("div",{className:"text-subtle flex gap-3 px-3 py-[6px] text-sm font-medium",children:[(0,jsx_runtime.jsx)("div",{className:"flex-1",children:t("field_name")}),(0,jsx_runtime.jsx)("div",{className:"flex-1",children:t("value")}),(0,jsx_runtime.jsx)("div",{className:"w-10"})]}),(0,jsx_runtime.jsxs)(section.w.SubSectionNested,{children:[Object.keys(onBookingWriteToEventObjectMap).map((key=>(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("div",{className:"flex-1",children:(0,jsx_runtime.jsx)(TextField.FO,{value:key,readOnly:!0,size:"sm",className:"w-full"})}),(0,jsx_runtime.jsx)("div",{className:"flex-1",children:(0,jsx_runtime.jsx)(TextField.FO,{value:onBookingWriteToEventObjectMap[key],readOnly:!0,size:"sm",className:"w-full"})}),(0,jsx_runtime.jsx)("div",{className:"flex w-10 justify-center",children:(0,jsx_runtime.jsx)(Button.$,{StartIcon:"x",variant:"icon",size:"sm",color:"minimal",onClick:()=>{const newObject=onBookingWriteToEventObjectMap;delete onBookingWriteToEventObjectMap[key],setAppData("onBookingWriteToEventObjectMap",newObject)}})})]},key))),(0,jsx_runtime.jsxs)("div",{className:"mt-2 flex gap-4",children:[(0,jsx_runtime.jsx)("div",{className:"flex-1",children:(0,jsx_runtime.jsx)(TextField.FO,{size:"sm",className:"w-full",value:newOnBookingWriteToEventObjectField.field,onChange:e=>setNewOnBookingWriteToEventObjectField({...newOnBookingWriteToEventObjectField,field:e.target.value})})}),(0,jsx_runtime.jsx)("div",{className:"flex-1",children:(0,jsx_runtime.jsx)(TextField.FO,{size:"sm",className:"w-full",value:newOnBookingWriteToEventObjectField.value,onChange:e=>setNewOnBookingWriteToEventObjectField({...newOnBookingWriteToEventObjectField,value:e.target.value})})}),(0,jsx_runtime.jsx)("div",{className:"w-10"})]})]}),(0,jsx_runtime.jsx)(Button.$,{className:"text-subtle mt-2 w-fit",size:"sm",color:"secondary",disabled:!(newOnBookingWriteToEventObjectField.field&&newOnBookingWriteToEventObjectField.value),onClick:()=>{Object.keys(onBookingWriteToEventObjectMap).includes(newOnBookingWriteToEventObjectField.field.trim())?(0,showToast.P0)("Field already exists","error"):(setAppData("onBookingWriteToEventObjectMap",{...onBookingWriteToEventObjectMap,[newOnBookingWriteToEventObjectField.field.trim()]:newOnBookingWriteToEventObjectField.value.trim()}),setNewOnBookingWriteToEventObjectField({field:"",value:""}))},children:t("add_new_field")})]}):null]}),(0,jsx_runtime.jsx)(section.w.SubSection,{children:(0,jsx_runtime.jsx)(components_WriteToObjectSettings,{bookingAction:BookingActionEnum.ON_BOOKING,optionLabel:t("salesforce_on_booking_write_to_record",{record:createEventOn}),optionEnabled:onBookingWriteToRecord,writeToObjectData:onBookingWriteToRecordFields,optionSwitchOnChange:checked=>{setAppData("onBookingWriteToRecord",checked)},updateWriteToObjectData:data=>setAppData("onBookingWriteToRecordFields",data)})}),(0,jsx_runtime.jsxs)(section.w.SubSection,{children:[(0,jsx_runtime.jsx)(section.w.SubSectionHeader,{icon:"user-plus",title:t("salesforce_change_record_owner_on_booking"),labelFor:"change-record-owner-on-booking",children:(0,jsx_runtime.jsx)(Switch.d,{size:"sm",labelOnLeading:!0,checked:onBookingChangeRecordOwner,onCheckedChange:checked=>{setAppData("onBookingChangeRecordOwner",checked)}})}),onBookingChangeRecordOwner?(0,jsx_runtime.jsx)(section.w.SubSectionContent,{classNames:{container:"p-3"},children:(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(Label.J,{htmlFor:"on-booking-change-record-owner-name",className:"text-subtle text-sm font-medium",children:t("salesforce_owner_name_to_change")}),(0,jsx_runtime.jsx)(TextField.FO,{id:"on-booking-change-record-owner-name",size:"sm",value:onBookingChangeRecordOwnerName,onChange:e=>setAppData("onBookingChangeRecordOwnerName",e.target.value)})]})}):null]}),eventType.schedulingType===enums.PI.ROUND_ROBIN?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(section.w.SubSection,{children:[(0,jsx_runtime.jsx)(section.w.SubSectionHeader,{icon:"users",title:t("salesforce_book_directly_with_attendee_owner"),labelFor:"book-directly-with-attendee-owner",children:(0,jsx_runtime.jsx)(Switch.d,{size:"sm",id:"book-directly-witha-attendee-owner",checked:isRoundRobinLeadSkipEnabled,onCheckedChange:checked=>{setAppData("roundRobinLeadSkip",checked),checked&&setAppData("enabled",checked)}})}),isRoundRobinLeadSkipEnabled?(0,jsx_runtime.jsx)(section.w.SubSectionContent,{classNames:{container:"p-3"},children:(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)(Label.J,{htmlFor:"round-robin-skip-check-record-on",className:"text-subtle text-sm font-medium",children:t("salesforce_check_owner_of")}),(0,jsx_runtime.jsx)(Select.l6,{size:"sm",className:"w-60",options:checkOwnerOptions,value:checkOwnerSelectedOption,onChange:e=>{e&&(setCheckOwnerSelectedOption(e),setAppData("roundRobinSkipCheckRecordOn",e.value))}})]})}):null]}),(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:isRoundRobinLeadSkipEnabled?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[checkOwnerSelectedOption.value===lib_enums.Gx.CONTACT?(0,jsx_runtime.jsx)(section.w.SubSection,{children:(0,jsx_runtime.jsx)(section.w.SubSectionHeader,{icon:"users",title:t("salesforce_round_robin_skip_fallback_to_lead_owner"),labelFor:"round-robin-skip-fallback-to-lead-owner",children:(0,jsx_runtime.jsx)(Switch.d,{id:"round-robin-skip-fallback-to-lead-owner",size:"sm",checked:roundRobinSkipFallbackToLeadOwner,onCheckedChange:checked=>{setAppData("roundRobinSkipFallbackToLeadOwner",checked)}})})}):null,(0,jsx_runtime.jsxs)(section.w.SubSection,{children:[(0,jsx_runtime.jsx)(section.w.SubSectionHeader,{icon:"users",title:t("salesforce_if_free_email_domain_skip_owner_check"),labelFor:"if-free-email-domain-skip-owner-check",children:(0,jsx_runtime.jsx)(Switch.d,{id:"if-free-email-domain-skip-owner-check",size:"sm",checked:ifFreeEmailDomainSkipOwnerCheck,onCheckedChange:checked=>{setAppData("ifFreeEmailDomainSkipOwnerCheck",checked)}})}),(0,jsx_runtime.jsx)(Alert.F,{severity:"info",title:t("skip_rr_description")})]})]}):null})]}):null,(0,jsx_runtime.jsx)(section.w.SubSection,{children:(0,jsx_runtime.jsx)(components_WriteToObjectSettings,{bookingAction:BookingActionEnum.ON_CANCEL,optionLabel:t("salesforce_on_cancel_write_to_event"),optionEnabled:onCancelWriteToEventRecord,writeToObjectData:onCancelWriteToEventRecordFields,optionSwitchOnChange:checked=>{setAppData("onCancelWriteToEventRecord",checked)},updateWriteToObjectData:data=>setAppData("onCancelWriteToEventRecordFields",data)})}),(0,jsx_runtime.jsxs)(section.w.SubSection,{children:[(0,jsx_runtime.jsx)(section.w.SubSectionHeader,{icon:"calendar",title:"Send no show attendee data to event object",labelFor:"send-no-show-attendee-data",children:(0,jsx_runtime.jsx)(Switch.d,{id:"send-no-show-attendee-data",size:"sm",checked:sendNoShowAttendeeData,onCheckedChange:checked=>{setAppData("sendNoShowAttendeeData",checked)}})}),sendNoShowAttendeeData?(0,jsx_runtime.jsxs)(section.w.SubSectionContent,{classNames:{container:"p-3"},children:[(0,jsx_runtime.jsx)(Label.J,{htmlFor:"send-no-show-attendee-data-field-name",className:"text-subtle text-sm font-medium",children:"Field name to check (must be checkbox data type)"}),(0,jsx_runtime.jsx)(TextField.FO,{id:"send-no-show-attendee-data-field-name",size:"sm",value:sendNoShowAttendeeDataField,onChange:e=>setAppData("sendNoShowAttendeeDataField",e.target.value)})]}):null]})]})})},EventTypeAppCardInterface=EventTypeAppCard;EventTypeAppCard.__docgenInfo={description:"",methods:[],displayName:"EventTypeAppCard"}},"../../packages/ui/components/form/select/Select.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{at:()=>SelectWithValidation,l6:()=>Select,zM:()=>SelectField});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/jsx-runtime.js"),_radix_ui_react_id__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/@radix-ui/react-id/dist/index.mjs"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),react_select__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/react-select/dist/react-select.esm.js"),_calcom_lib_hooks_useLocale__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../packages/lib/hooks/useLocale.ts"),_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../packages/ui/classNames.ts"),_inputs_Label__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../packages/ui/components/form/inputs/Label.tsx"),_inputs_TextField__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../packages/ui/components/form/inputs/TextField.tsx"),_selectTheme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../packages/ui/components/form/select/selectTheme.ts");const Select=({components,variant="default",size="md",grow=!0,...props})=>{const{classNames,innerClassNames,menuPlacement="auto",...restProps}=props,reactSelectProps=react__WEBPACK_IMPORTED_MODULE_1__.useMemo((()=>(0,_selectTheme__WEBPACK_IMPORTED_MODULE_2__._)({components:components||{},menuPlacement})),[components,menuPlacement]),hasMultiLastIcons=props.isMulti||props.isLoading||props.isClearable;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_select__WEBPACK_IMPORTED_MODULE_3__.Ay,{...reactSelectProps,menuPlacement,styles:{control:base=>({...base,minHeight:"sm"===size?"28px":"32px",height:grow?"auto":"sm"===size?"28px":"32px"})},classNames:{input:()=>(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_4__.A)("text-emphasis",null==innerClassNames?void 0:innerClassNames.input),option:state=>(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_4__.A)("bg-default flex cursor-pointer justify-between py-1.5 px-2 rounded-md text-default items-center",state.isFocused&&"bg-subtle",state.isDisabled&&"bg-muted",state.isSelected&&"bg-emphasis text-default",null==innerClassNames?void 0:innerClassNames.option),placeholder:state=>(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_4__.A)("text-muted",state.isFocused&&"checkbox"!==variant&&"hidden"),dropdownIndicator:()=>(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_4__.A)("text-default w-4 h-4"),control:state=>(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_4__.A)((0,_inputs_TextField__WEBPACK_IMPORTED_MODULE_5__.z9)({size}),state.isMulti?"checkbox"===variant?"px-3 h-fit":state.hasValue?"p-1 h-fit":"px-3 h-fit":"sm"===size?"h-7 px-2 py-1":"h-8 px-3 py-2",props.isDisabled&&"bg-subtle","rounded-[10px]","[&:focus-within]:border-emphasis [&:focus-within]:shadow-outline-gray-focused [&:focus-within]:ring-0 !flex",null==innerClassNames?void 0:innerClassNames.control),singleValue:()=>(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_4__.A)("text-default placeholder:text-muted",null==innerClassNames?void 0:innerClassNames.singleValue),valueContainer:()=>(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_4__.A)("text-default placeholder:text-muted flex gap-1",null==innerClassNames?void 0:innerClassNames.valueContainer),multiValue:()=>(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_4__.A)("font-medium inline-flex items-center justify-center rounded bg-emphasis text-emphasis leading-none text-xs","sm"==size?"px-1.5 py-[1px] rounded-md":"py-1 px-1.5 leading-none rounded-lg"),menu:()=>(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_4__.A)("rounded-lg bg-default text-sm leading-4 text-default mt-1 border border-subtle shadow-dropdown p-1",null==innerClassNames?void 0:innerClassNames.menu),groupHeading:()=>"leading-none text-xs text-muted p-2 font-medium ml-1",menuList:()=>(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_4__.A)("scroll-bar scrollbar-track-w-20 rounded-md flex flex-col space-y-[1px]",null==innerClassNames?void 0:innerClassNames.menuList),indicatorsContainer:state=>(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_4__.A)(state.selectProps.menuIsOpen?hasMultiLastIcons?"[&>*:last-child]:rotate-180 [&>*:last-child]:transition-transform [&>*:last-child]:w-4 [&>*:last-child]:h-4":"rotate-180 transition-transform w-4 h-4":"text-default w-4 h-4"),multiValueRemove:()=>"text-default py-auto",...classNames},...restProps})},SelectField=function SelectField(props){var _props_labelProps;const{t}=(0,_calcom_lib_hooks_useLocale__WEBPACK_IMPORTED_MODULE_6__.Y)(),{label=t(props.name||""),containerClassName,labelProps,className,...passThrough}=props,id=(0,_radix_ui_react_id__WEBPACK_IMPORTED_MODULE_7__.B)();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_4__.A)(containerClassName),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_4__.A)(className),children:!!label&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_inputs_Label__WEBPACK_IMPORTED_MODULE_8__.J,{htmlFor:id,...labelProps,className:(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_4__.A)(props.error&&"text-error",null===(_props_labelProps=props.labelProps)||void 0===_props_labelProps?void 0:_props_labelProps.className),children:label})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Select,{...passThrough})]})};function SelectWithValidation({required=!1,onChange,value,...remainingProps}){const[hiddenInputValue,_setHiddenInputValue]=react__WEBPACK_IMPORTED_MODULE_1__.useState((()=>value instanceof Array||!value?"":value.value||"")),setHiddenInputValue=react__WEBPACK_IMPORTED_MODULE_1__.useCallback((value=>{let hiddenInputValue="";hiddenInputValue=value instanceof Array?value.map((val=>val.value)).join(","):(null==value?void 0:value.value)||"",_setHiddenInputValue(hiddenInputValue)}),[]);return react__WEBPACK_IMPORTED_MODULE_1__.useEffect((()=>{value&&setHiddenInputValue(value)}),[value,setHiddenInputValue]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_4__.A)("relative",remainingProps.className),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Select,{value,...remainingProps,onChange:(value,...remainingArgs)=>{setHiddenInputValue(value),onChange&&onChange(value,...remainingArgs)}}),required&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{tabIndex:-1,autoComplete:"off",style:{opacity:0,width:"100%",height:1,position:"absolute"},value:hiddenInputValue,onChange:()=>{},required})]})}Select.__docgenInfo={description:"",methods:[],displayName:"Select",props:{variant:{required:!1,tsType:{name:"union",raw:'"default" | "checkbox"',elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"checkbox"'}]},description:"",defaultValue:{value:'"default"',computed:!1}},"data-testid":{required:!1,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"union",raw:'"sm" | "md"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'}]},description:"",defaultValue:{value:'"md"',computed:!1}},grow:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},innerClassNames:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n  input?: string;\n  option?: string;\n  control?: string;\n  singleValue?: string;\n  valueContainer?: string;\n  multiValue?: string;\n  menu?: string;\n  menuList?: string;\n}",signature:{properties:[{key:"input",value:{name:"string",required:!1}},{key:"option",value:{name:"string",required:!1}},{key:"control",value:{name:"string",required:!1}},{key:"singleValue",value:{name:"string",required:!1}},{key:"valueContainer",value:{name:"string",required:!1}},{key:"multiValue",value:{name:"string",required:!1}},{key:"menu",value:{name:"string",required:!1}},{key:"menuList",value:{name:"string",required:!1}}]}},description:""}}},SelectField.__docgenInfo={description:"",methods:[],displayName:"SelectField",props:{required:{required:!1,tsType:{name:"boolean"},description:""},name:{required:!1,tsType:{name:"string"},description:""},containerClassName:{required:!1,tsType:{name:"string"},description:""},label:{required:!1,tsType:{name:"string"},description:""},labelProps:{required:!1,tsType:{name:"ReactComponentProps",raw:"React.ComponentProps<typeof Label>",elements:[{name:"Label"}]},description:""},className:{required:!1,tsType:{name:"string"},description:""},error:{required:!1,tsType:{name:"string"},description:""},variant:{required:!1,tsType:{name:"union",raw:'"default" | "checkbox"',elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"checkbox"'}]},description:""},"data-testid":{required:!1,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"union",raw:'"sm" | "md"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'}]},description:""},grow:{required:!1,tsType:{name:"boolean"},description:""}}},SelectWithValidation.__docgenInfo={description:"TODO: It should replace Select after through testing",methods:[],displayName:"SelectWithValidation",props:{variant:{required:!1,tsType:{name:"union",raw:'"default" | "checkbox"',elements:[{name:"literal",value:'"default"'},{name:"literal",value:'"checkbox"'}]},description:""},"data-testid":{required:!1,tsType:{name:"string"},description:""},size:{required:!1,tsType:{name:"union",raw:'"sm" | "md"',elements:[{name:"literal",value:'"sm"'},{name:"literal",value:'"md"'}]},description:""},grow:{required:!1,tsType:{name:"boolean"},description:""},required:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}}}}]);