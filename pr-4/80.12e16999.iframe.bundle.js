"use strict";(self.webpackChunk_calcom_web=self.webpackChunk_calcom_web||[]).push([[80],{"../../packages/app-store/vital/components/InstallAppButton.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>InstallAppButton});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),console=__webpack_require__("../../node_modules/console-browserify/index.js");function InstallAppButton(props){const[loading,setLoading]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:props.render({onClick(){setLoading(!0),(async()=>{const res=await fetch("/api/integrations/vital/token",{method:"POST",body:JSON.stringify({}),headers:{"Content-Type":"application/json"}});if(!res.ok)throw new Error("Failed to get link token");return await res.json()})().then((data=>{setLoading(!1),window.open(`${data.url}&token=${data.token}`,"_self")})).catch((error=>{setLoading(!1),console.error(error)}))},loading})})}InstallAppButton.__docgenInfo={description:"",methods:[],displayName:"InstallAppButton"}}}]);