"use strict";(self.webpackChunk_calcom_web=self.webpackChunk_calcom_web||[]).push([[905],{"../../packages/features/components/phone-input/PhoneInput.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/jsx-runtime.js"),libphonenumber_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/libphonenumber-js/min/exports/isSupportedCountry.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),react_phone_input_2__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/react-phone-input-2/lib/lib.js"),react_phone_input_2__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_phone_input_2__WEBPACK_IMPORTED_MODULE_2__),_calcom_atoms_hooks_useIsPlatform__WEBPACK_IMPORTED_MODULE_4__=(__webpack_require__("../../node_modules/react-phone-input-2/lib/style.css"),__webpack_require__("../../packages/platform/atoms/hooks/useIsPlatform.ts")),_calcom_trpc_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../packages/trpc/react/trpc.ts"),_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../packages/ui/classNames.ts");function BasePhoneInput({name,className="",onChange,value,defaultCountry="us",...rest}){return(0,_calcom_atoms_hooks_useIsPlatform__WEBPACK_IMPORTED_MODULE_4__.X)()?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_phone_input_2__WEBPACK_IMPORTED_MODULE_2___default(),{...rest,value:value?value.trim().replace(/^\+?/,"+"):void 0,enableSearch:!0,disableSearchIcon:!0,country:defaultCountry,inputProps:{name,required:rest.required,placeholder:rest.placeholder},onChange:value=>{onChange(`+${value}`)},containerClass:(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_5__.A)("hover:border-emphasis dark:focus:border-emphasis border-default !bg-default rounded-md border focus-within:outline-none focus-within:ring-2 focus-within:ring-brand-default disabled:cursor-not-allowed",className),inputClass:"text-sm focus:ring-0 !bg-default text-default placeholder:text-muted",buttonClass:"text-emphasis !bg-default hover:!bg-emphasis",searchClass:"!text-default !bg-default hover:!bg-emphasis",dropdownClass:"!text-default !bg-default",inputStyle:{width:"inherit",border:0},searchStyle:{display:"flex",flexDirection:"row",alignItems:"center",padding:"6px 12px",gap:"8px",width:"296px",height:"28px",marginLeft:"-4px"},dropdownStyle:{width:"max-content"}}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(BasePhoneInputWeb,{name,className,onChange,value,...rest})}function BasePhoneInputWeb({name,className="",onChange,value,...rest}){const defaultCountry=useDefaultCountry();return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_phone_input_2__WEBPACK_IMPORTED_MODULE_2___default(),{...rest,value:value?value.trim().replace(/^\+?/,"+"):void 0,country:value?void 0:defaultCountry,enableSearch:!0,disableSearchIcon:!0,inputProps:{name,required:rest.required,placeholder:rest.placeholder},onChange:value=>{onChange(`+${value}`)},containerClass:(0,_calcom_ui_classNames__WEBPACK_IMPORTED_MODULE_5__.A)("hover:border-emphasis dark:focus:border-emphasis border-default !bg-default rounded-md border focus-within:outline-none focus-within:ring-2 focus-within:ring-brand-default disabled:cursor-not-allowed",className),inputClass:"text-sm focus:ring-0 !bg-default text-default placeholder:text-muted",buttonClass:"text-emphasis !bg-default hover:!bg-emphasis",searchClass:"!text-default !bg-default hover:!bg-emphasis",dropdownClass:"!text-default !bg-default",inputStyle:{width:"inherit",border:0},searchStyle:{display:"flex",flexDirection:"row",alignItems:"center",padding:"6px 12px",gap:"8px",width:"296px",height:"28px",marginLeft:"-4px"},dropdownStyle:{width:"max-content"}})}const useDefaultCountry=()=>{const[defaultCountry,setDefaultCountry]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("us"),query=_calcom_trpc_react__WEBPACK_IMPORTED_MODULE_6__.i.viewer.public.countryCode.useQuery(void 0,{refetchOnWindowFocus:!1,refetchOnReconnect:!1,retry:!1});return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((function refactorMeWithoutEffect(){var _navigator_language_split_;const data=query.data;(null==data?void 0:data.countryCode)&&((0,libphonenumber_js__WEBPACK_IMPORTED_MODULE_7__.J)(null==data?void 0:data.countryCode)?setDefaultCountry(data.countryCode.toLowerCase()):setDefaultCountry((null===(_navigator_language_split_=navigator.language.split("-")[1])||void 0===_navigator_language_split_?void 0:_navigator_language_split_.toLowerCase())||"us"))}),[query.data]),defaultCountry},__WEBPACK_DEFAULT_EXPORT__=BasePhoneInput;BasePhoneInput.__docgenInfo={description:"",methods:[],displayName:"BasePhoneInput",props:{value:{required:!1,tsType:{name:"string"},description:""},id:{required:!1,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},required:{required:!1,tsType:{name:"boolean"},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},name:{required:!1,tsType:{name:"string"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},defaultCountry:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"us"',computed:!1}}}}}}]);