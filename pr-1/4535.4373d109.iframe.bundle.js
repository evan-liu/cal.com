"use strict";(self.webpackChunk_calcom_web=self.webpackChunk_calcom_web||[]).push([[4535],{"../../packages/app-store/paypal/components/EventTypeAppCardInterface.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/jsx-runtime.js"),next_navigation__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.mjs"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),_calcom_app_store_EventTypeAppContext__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../packages/app-store/EventTypeAppContext.tsx"),_calcom_app_store_components_AppCard__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../packages/app-store/_components/AppCard.tsx"),_calcom_lib_constants__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../packages/lib/constants.ts"),_calcom_lib_hooks_useLocale__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../packages/lib/hooks/useLocale.ts"),_utils_payments_checkForMultiplePaymentApps__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../packages/app-store/_utils/payments/checkForMultiplePaymentApps.ts"),_EventTypeAppSettingsInterface__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../packages/app-store/paypal/components/EventTypeAppSettingsInterface.tsx");const EventTypeAppCard=function EventTypeAppCard({app,eventType,eventTypeFormMetadata}){const searchParams=(0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.useSearchParams)(),pathname=(0,next_navigation__WEBPACK_IMPORTED_MODULE_1__.usePathname)(),asPath=(0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)((()=>`${pathname}${searchParams?`?${searchParams.toString()}`:""}`),[pathname,searchParams]),{getAppData,setAppData,disabled}=(0,_calcom_app_store_EventTypeAppContext__WEBPACK_IMPORTED_MODULE_4__.j)(),[requirePayment,setRequirePayment]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(getAppData("enabled")),otherPaymentAppEnabled=(0,_utils_payments_checkForMultiplePaymentApps__WEBPACK_IMPORTED_MODULE_5__.A)(eventTypeFormMetadata),{t}=(0,_calcom_lib_hooks_useLocale__WEBPACK_IMPORTED_MODULE_6__.Y)(),shouldDisableSwitch=!requirePayment&&otherPaymentAppEnabled;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_calcom_app_store_components_AppCard__WEBPACK_IMPORTED_MODULE_7__.A,{returnTo:_calcom_lib_constants__WEBPACK_IMPORTED_MODULE_8__.YW+asPath,app,switchChecked:requirePayment,switchOnClick:enabled=>{setRequirePayment(enabled)},description:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:"Add Paypal payment to your events"}),disableSwitch:shouldDisableSwitch,switchTooltip:shouldDisableSwitch?t("other_payment_app_enabled"):void 0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_EventTypeAppSettingsInterface__WEBPACK_IMPORTED_MODULE_3__.default,{eventType,slug:app.slug,disabled,getAppData,setAppData})})})},__WEBPACK_DEFAULT_EXPORT__=EventTypeAppCard;EventTypeAppCard.__docgenInfo={description:"",methods:[],displayName:"EventTypeAppCard"}},"../../packages/app-store/paypal/components/EventTypeAppSettingsInterface.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),_calcom_app_store_paypal_lib_currencyOptions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../packages/app-store/paypal/lib/currencyOptions.ts"),_calcom_lib_hooks_useLocale__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../packages/lib/hooks/useLocale.ts"),_calcom_ui_components_form__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../packages/ui/components/form/select/Select.tsx"),_calcom_ui_components_form__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../packages/ui/components/form/inputs/TextField.tsx"),_calcom_ui_components_alert__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../packages/ui/components/alert/Alert.tsx"),_utils_payments_currencyConversions__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../packages/app-store/_utils/payments/currencyConversions.ts"),_zod__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../packages/app-store/paypal/zod.ts");const EventTypeAppSettingsInterface=({getAppData,setAppData,eventType})=>{var _eventType_recurringEvent;const price=getAppData("price"),currency=getAppData("currency")||_calcom_app_store_paypal_lib_currencyOptions__WEBPACK_IMPORTED_MODULE_2__.Ib[0].value,[selectedCurrency,setSelectedCurrency]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(_calcom_app_store_paypal_lib_currencyOptions__WEBPACK_IMPORTED_MODULE_2__.Ib.find((c=>c.value===currency))),[currencySymbol,setCurrencySymbol]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((0,_calcom_app_store_paypal_lib_currencyOptions__WEBPACK_IMPORTED_MODULE_2__.y9)(currency)?_calcom_app_store_paypal_lib_currencyOptions__WEBPACK_IMPORTED_MODULE_2__.zA[currency]:""),paymentOption=getAppData("paymentOption"),paymentOptionSelectValue=(null===_zod__WEBPACK_IMPORTED_MODULE_3__.OP||void 0===_zod__WEBPACK_IMPORTED_MODULE_3__.OP?void 0:_zod__WEBPACK_IMPORTED_MODULE_3__.OP.find((option=>paymentOption===option.value)))||{label:_zod__WEBPACK_IMPORTED_MODULE_3__.OP[0].label,value:_zod__WEBPACK_IMPORTED_MODULE_3__.OP[0].value},seatsEnabled=!!eventType.seatsPerTimeSlot,[requirePayment,setRequirePayment]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(getAppData("enabled")),{t}=(0,_calcom_lib_hooks_useLocale__WEBPACK_IMPORTED_MODULE_4__.Y)(),recurringEventDefined=void 0!==(null===(_eventType_recurringEvent=eventType.recurringEvent)||void 0===_eventType_recurringEvent?void 0:_eventType_recurringEvent.count);return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{requirePayment&&(getAppData("currency")||setAppData("currency",_calcom_app_store_paypal_lib_currencyOptions__WEBPACK_IMPORTED_MODULE_2__.Ib[0].value),getAppData("paymentOption")||setAppData("paymentOption",_zod__WEBPACK_IMPORTED_MODULE_3__.OP[0].value))}),[]),recurringEventDefined?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_calcom_ui_components_alert__WEBPACK_IMPORTED_MODULE_5__.F,{className:"mt-2",severity:"warning",title:t("warning_recurring_event_payment")}):requirePayment?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"mt-2 block items-center sm:flex",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_calcom_ui_components_form__WEBPACK_IMPORTED_MODULE_6__.A_,{label:"Price",labelSrOnly:!0,addOnLeading:currencySymbol,addOnSuffix:currency,step:"0.01",min:"0.5",type:"number",required:!0,className:"block w-full rounded-sm pl-2 text-sm",placeholder:"Price","data-testid":"paypal-price-input",onChange:e=>{setAppData("price",(0,_utils_payments_currencyConversions__WEBPACK_IMPORTED_MODULE_7__.z)(Number(e.target.value),currency)),selectedCurrency&&setAppData("currency",selectedCurrency.value)},value:price>0?(0,_utils_payments_currencyConversions__WEBPACK_IMPORTED_MODULE_7__.A)(price,currency):void 0})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mt-5 w-60",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{className:"text-default mb-1 block text-sm font-medium",htmlFor:"currency",children:t("currency")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_calcom_ui_components_form__WEBPACK_IMPORTED_MODULE_8__.l6,{variant:"default","data-testid":"paypal-currency-select",options:_calcom_app_store_paypal_lib_currencyOptions__WEBPACK_IMPORTED_MODULE_2__.Ib,value:selectedCurrency,className:"text-black",defaultValue:selectedCurrency,onChange:e=>{e&&(setSelectedCurrency(e),setCurrencySymbol(_calcom_app_store_paypal_lib_currencyOptions__WEBPACK_IMPORTED_MODULE_2__.zA[e.value]),setAppData("currency",e.value))}})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mt-4 w-60",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{className:"text-default mb-1 block text-sm font-medium",htmlFor:"currency",children:"Payment option"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_calcom_ui_components_form__WEBPACK_IMPORTED_MODULE_8__.l6,{"data-testid":"paypal-payment-option-select",defaultValue:paymentOptionSelectValue?{...paymentOptionSelectValue,label:t(paymentOptionSelectValue.label)}:{..._zod__WEBPACK_IMPORTED_MODULE_3__.OP[0],label:t(_zod__WEBPACK_IMPORTED_MODULE_3__.OP[0].label)},options:_zod__WEBPACK_IMPORTED_MODULE_3__.OP.map((option=>({...option,label:t(option.label)||option.label}))),onChange:input=>{input&&setAppData("paymentOption",input.value)},className:"mb-1 h-[38px] w-full",isDisabled:seatsEnabled})]}),seatsEnabled&&"HOLD"===paymentOption&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_calcom_ui_components_alert__WEBPACK_IMPORTED_MODULE_5__.F,{className:"mt-2",severity:"warning",title:t("seats_and_no_show_fee_error")})]}):null},__WEBPACK_DEFAULT_EXPORT__=EventTypeAppSettingsInterface;EventTypeAppSettingsInterface.__docgenInfo={description:"",methods:[],displayName:"EventTypeAppSettingsInterface"}},"../../packages/app-store/paypal/lib/currencyOptions.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ib:()=>currencyOptions,y9:()=>isAcceptedCurrencyCode,zA:()=>currencySymbols});const currencyOptions=[{label:"United States dollar",value:"USD"},{label:"Australian dollar",value:"AUD"},{label:"Brazilian real 2",value:"BRL"},{label:"Canadian dollar",value:"CAD"},{label:"Chinese Renmenbi 3",value:"CNY"},{label:"Czech koruna",value:"CZK"},{label:"Danish krone",value:"DKK"},{label:"Euro",value:"EUR"},{label:"Hong Kong dollar",value:"HKD"},{label:"Hungarian forint 1",value:"HUF"},{label:"Israeli new shekel",value:"ILS"},{label:"Japanese yen 1",value:"JPY"},{label:"Malaysian ringgit 3",value:"MYR"},{label:"Mexican peso",value:"MXN"},{label:"New Taiwan dollar 1",value:"TWD"},{label:"New Zealand dollar",value:"NZD"},{label:"Norwegian krone",value:"NOK"},{label:"Philippine peso",value:"PHP"},{label:"Polish złoty",value:"PLN"},{label:"Pound sterling",value:"GBP"},{label:"Russian ruble",value:"RUB"},{label:"Singapore dollar",value:"SGD"},{label:"Swedish krona",value:"SEK"},{label:"Swiss franc",value:"CHF"},{label:"Thai baht",value:"THB"}],currencySymbols={USD:"$",AUD:"$",BRL:"R$",CAD:"$",CNY:"¥",CZK:"Kč",DKK:"kr",EUR:"€",HKD:"$",HUF:"Ft",ILS:"₪",JPY:"¥",MYR:"RM",MXN:"$",TWD:"$",NZD:"$",NOK:"kr",PHP:"₱",PLN:"zł",GBP:"£",RUB:"₽",SGD:"$",SEK:"kr",CHF:"Fr",THB:"฿"};function isAcceptedCurrencyCode(currencyCode){return Object.keys(currencySymbols).includes(currencyCode)}}}]);